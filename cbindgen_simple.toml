# cbindgen configuration for ia-get Simplified FFI
# Generates C header for the 6 core FFI functions in ffi_simple.rs

language = "C"
header = """
/*
 * ia-get Simplified FFI C Header
 * 
 * This header provides C bindings for the simplified FFI interface.
 * Only 6 core functions for stateless operations.
 * 
 * IMPORTANT: All functions are thread-safe. Error messages are stored
 * in thread-local storage.
 * 
 * Memory Management:
 * - Strings returned by ia_get_fetch_metadata() and ia_get_decompress_file()
 *   MUST be freed with ia_get_free_string()
 * - The string returned by ia_get_last_error() must NOT be freed
 * 
 * Generated by cbindgen
 */
"""

include_version = true
braces = "SameLine"
line_length = 100
tab_width = 4
documentation = true
documentation_style = "doxy"
cpp_compat = true

# Only export the simplified FFI interface
[export]
include = ["IaGetResult"]
prefix = ""

# Parse only the ffi_simple module
[parse]
parse_deps = false
include = ["ia-get"]
# Only include ffi_simple functions
[parse.expand]
features = ["ffi"]

# Function-specific configuration
[export.rename]

[fn]
# All functions should be exported
prefix = ""
postfix = ""

# Enum configuration
[enum]
prefix_with_name = false
